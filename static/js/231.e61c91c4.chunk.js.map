{"version":3,"file":"static/js/231.e61c91c4.chunk.js","mappings":"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","sources":["api/api.js","components/Searchbar/Searchbar.jsx","components/FilmsSearchListItem/FilmsSearchListItem.jsx","components/FilmsSearchList/FilmsSearchList.jsx","components/SearchFilm/SearchFilm.jsx","pages/FilmsPage/FilmsPage.jsx"],"sourcesContent":["import axios from 'axios';\n\nconst URL_TREND = 'https://api.themoviedb.org/3/trending/movie/day';\nconst URL_DETAILS = 'https://api.themoviedb.org/3/movie/';\nconst URL_SEARCH = 'https://api.themoviedb.org/3/search/movie';\n\nconst API_KEY = '9347350ba2bb7631373e3da2add3bd27';\n\nexport const fetchTrends = () => {\n  const params = new URLSearchParams({\n    api_key: API_KEY,\n    language: 'en-US',\n    page: '1',\n    include_adult: false,\n    per_page: '20',\n  });\n\n  return axios.get(`${URL_TREND}?${params}`);\n};\n\nexport const fetchDetails = id => {\n  const params = new URLSearchParams({\n    api_key: API_KEY,\n  });\n\n  return axios.get(`${URL_DETAILS}/${id}?${params}`);\n};\n\nexport const fetchSearchFilms = query => {\n  const params = new URLSearchParams({\n    api_key: API_KEY,\n    language: 'en-US',\n    include_adult: false,\n    query: query,\n    page: '1',\n  });\n\n  return axios.get(`${URL_SEARCH}?${params}`);\n};\n\nexport const fetchCast = id => {\n  const params = new URLSearchParams({\n    api_key: API_KEY,\n  });\n\n  return axios.get(`${URL_DETAILS}/${id}/credits?${params}`);\n};\n\nexport const fetchReview = id => {\n  const params = new URLSearchParams({\n    api_key: API_KEY,\n  });\n\n  return axios.get(`${URL_DETAILS}/${id}/reviews?${params}`);\n};\n","import { useState } from 'react';\n\nconst Searchbar = props => {\n  const [state, setState] = useState({\n    search: '',\n  });\n\n  const handleChange = e => {\n    const { name, value } = e.target;\n    setState({\n      ...state,\n      [name]: value,\n    });\n  };\n\n  const handleSubmit = e => {\n    console.log(props);\n    e.preventDefault();\n    props.onSubmit({ ...state });\n    setState({\n      search: '',\n    });\n  };\n\n  return (\n    <header className=\"Searchbar\">\n      <form onSubmit={handleSubmit} className=\"SearchForm\">\n        <button type=\"submit\" className=\"SearchForm-button\">\n          <span className=\"button-label\">ðŸ”Ž</span>\n        </button>\n\n        <input\n          onChange={handleChange}\n          value={state.search}\n          className=\"SearchForm-input\"\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n          name=\"search\"\n        />\n      </form>\n    </header>\n  );\n};\n\nexport default Searchbar;\n","import { Link, useLocation } from 'react-router-dom';\n\nconst FilmsSearchListItem = ({ item }) => {\n  const location = useLocation();\n\n  return (\n    <li>\n      <Link to={`/movies/${item.id}`} state={{ from: location }}>\n        {item.title}\n      </Link>\n    </li>\n  );\n};\n\nexport default FilmsSearchListItem;\n","import FilmsSearchListItem from 'components/FilmsSearchListItem/FilmsSearchListItem';\n\nconst FilmsSearchList = ({ items }) => {\n  const elements = items.map(item => (\n    <FilmsSearchListItem key={item.id} item={item} />\n  ));\n\n  return <ul>{elements}</ul>;\n};\n\nexport default FilmsSearchList;\n","import { useState, useEffect } from 'react';\nimport { useSearchParams } from 'react-router-dom';\n\nimport Searchbar from '../Searchbar/Searchbar';\nimport FilmsSearchList from 'components/FilmsSearchList/FilmsSearchList';\nimport { fetchSearchFilms } from 'api/api';\n\nconst SearchFilms = () => {\n  const [films, setFilms] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  const [searchParams, setSearchParams] = useSearchParams();\n  const search = searchParams.get('search');\n\n  useEffect(() => {\n    const fetchFilms = async () => {\n      try {\n        setLoading(true);\n        const { data } = await fetchSearchFilms(search);\n        setFilms(data?.results ? data.results : []);\n      } catch (error) {\n        setError(error.message);\n      } finally {\n        setLoading(false);\n      }\n    };\n    if (search) {\n      fetchFilms();\n    }\n  }, [search]);\n\n  const handleSearch = ({ search }) => {\n    setSearchParams({ search });\n    setFilms([]);\n  };\n\n  const isPresent = Boolean(films.length);\n\n  return (\n    <div>\n      <Searchbar onSubmit={handleSearch} />\n      {loading && <p>Loading...</p>}\n      {error && <p>{error}</p>}\n      {isPresent && <FilmsSearchList items={films} />}\n    </div>\n  );\n};\n\nexport default SearchFilms;\n","import SearchFilms from 'components/SearchFilm/SearchFilm';\n\nconst FilmsPage = () => {\n  return (\n    <div>\n      <p>Search</p>\n      <SearchFilms />\n    </div>\n  );\n};\n\nexport default FilmsPage;\n"],"names":["URL_DETAILS","API_KEY","fetchTrends","params","URLSearchParams","api_key","language","page","include_adult","per_page","axios","concat","fetchDetails","id","fetchSearchFilms","query","fetchCast","fetchReview","props","_useState","useState","search","_useState2","_slicedToArray","state","setState","_jsx","className","children","_jsxs","onSubmit","e","console","log","preventDefault","_objectSpread","type","onChange","_e$target","target","name","value","_defineProperty","autoComplete","autoFocus","placeholder","_ref","item","location","useLocation","Link","to","from","title","elements","items","map","FilmsSearchListItem","films","setFilms","_useState3","_useState4","loading","setLoading","_useState5","_useState6","error","setError","_useSearchParams","useSearchParams","_useSearchParams2","searchParams","setSearchParams","get","useEffect","fetchFilms","_asyncToGenerator","_regeneratorRuntime","_callee","_yield$fetchSearchFil","data","_context","prev","next","sent","results","t0","message","finish","stop","apply","arguments","isPresent","Boolean","length","Searchbar","_ref2","FilmsSearchList","SearchFilms"],"sourceRoot":""}