"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[868],{713:function(e,n,t){t.d(n,{DD:function(){return i},PY:function(){return u},Up:function(){return o},oO:function(){return p},y:function(){return s}});var r=t(294),a="https://api.themoviedb.org/3/movie/",c="9347350ba2bb7631373e3da2add3bd27",u=function(){var e=new URLSearchParams({api_key:c,language:"en-US",page:"1",include_adult:!1,per_page:"20"});return r.Z.get("".concat("https://api.themoviedb.org/3/trending/movie/day","?").concat(e))},i=function(e){var n=new URLSearchParams({api_key:c});return r.Z.get("".concat(a,"/").concat(e,"?").concat(n))},o=function(e){var n=new URLSearchParams({api_key:c,language:"en-US",include_adult:!1,query:e,page:"1"});return r.Z.get("".concat("https://api.themoviedb.org/3/search/movie","?").concat(n))},s=function(e){var n=new URLSearchParams({api_key:c});return r.Z.get("".concat(a,"/").concat(e,"/credits?").concat(n))},p=function(e){var n=new URLSearchParams({api_key:c});return r.Z.get("".concat(a,"/").concat(e,"/reviews?").concat(n))}},868:function(e,n,t){t.r(n),t.d(n,{default:function(){return d}});var r=t(861),a=t(439),c=t(757),u=t.n(c),i=t(791),o=t(689),s=t(713),p=t(184),h=function(e){var n=e.item;return(0,p.jsxs)("li",{className:"ReviewsItem",children:[(0,p.jsxs)("h3",{children:["Author: ",n.author]}),(0,p.jsxs)("p",{children:["Author rating: ",n.rating]}),(0,p.jsx)("p",{children:n.content})]})},l=function(e){var n=e.items.map((function(e){return(0,p.jsx)(h,{item:e},e.id)}));return(0,p.jsx)("ul",{className:"ReviewsList",children:n})},d=function(){var e=(0,i.useState)([]),n=(0,a.Z)(e,2),t=n[0],c=n[1],h=(0,i.useState)(!1),d=(0,a.Z)(h,2),f=d[0],v=d[1],m=(0,i.useState)(null),g=(0,a.Z)(m,2),k=g[0],w=g[1],x=(0,o.UO)().movieId;(0,i.useEffect)((function(){var e=function(){var e=(0,r.Z)(u().mark((function e(){var n,t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(x){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,v(!0),e.next=6,(0,s.oO)(x);case 6:n=e.sent,t=n.data,c(null!==t&&void 0!==t&&t.results?t.results:[]),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),w(e.t0.message);case 14:return e.prev=14,v(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[2,11,14,17]])})));return function(){return e.apply(this,arguments)}}();e()}),[x]);var b=Boolean(t.length);return(0,p.jsxs)(p.Fragment,{children:[f&&(0,p.jsx)("p",{children:"Loading..."}),k&&(0,p.jsx)("p",{children:k}),b&&(0,p.jsx)(l,{items:t})]})}}}]);
//# sourceMappingURL=868.c6f504f7.chunk.js.map