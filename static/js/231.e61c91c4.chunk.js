"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[231],{713:function(e,t,n){n.d(t,{DD:function(){return o},PY:function(){return u},Up:function(){return s},oO:function(){return l},y:function(){return i}});var a=n(294),r="https://api.themoviedb.org/3/movie/",c="9347350ba2bb7631373e3da2add3bd27",u=function(){var e=new URLSearchParams({api_key:c,language:"en-US",page:"1",include_adult:!1,per_page:"20"});return a.Z.get("".concat("https://api.themoviedb.org/3/trending/movie/day","?").concat(e))},o=function(e){var t=new URLSearchParams({api_key:c});return a.Z.get("".concat(r,"/").concat(e,"?").concat(t))},s=function(e){var t=new URLSearchParams({api_key:c,language:"en-US",include_adult:!1,query:e,page:"1"});return a.Z.get("".concat("https://api.themoviedb.org/3/search/movie","?").concat(t))},i=function(e){var t=new URLSearchParams({api_key:c});return a.Z.get("".concat(r,"/").concat(e,"/credits?").concat(t))},l=function(e){var t=new URLSearchParams({api_key:c});return a.Z.get("".concat(r,"/").concat(e,"/reviews?").concat(t))}},231:function(e,t,n){n.r(t),n.d(t,{default:function(){return x}});var a=n(861),r=n(439),c=n(757),u=n.n(c),o=n(791),s=n(87),i=n(942),l=n(413),h=n(184),p=function(e){var t=(0,o.useState)({search:""}),n=(0,r.Z)(t,2),a=n[0],c=n[1];return(0,h.jsx)("header",{className:"Searchbar",children:(0,h.jsxs)("form",{onSubmit:function(t){console.log(e),t.preventDefault(),e.onSubmit((0,l.Z)({},a)),c({search:""})},className:"SearchForm",children:[(0,h.jsx)("button",{type:"submit",className:"SearchForm-button",children:(0,h.jsx)("span",{className:"button-label",children:"\ud83d\udd0e"})}),(0,h.jsx)("input",{onChange:function(e){var t=e.target,n=t.name,r=t.value;c((0,l.Z)((0,l.Z)({},a),{},(0,i.Z)({},n,r)))},value:a.search,className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",name:"search"})]})})},m=n(689),d=function(e){var t=e.item,n=(0,m.TH)();return(0,h.jsx)("li",{children:(0,h.jsx)(s.rU,{to:"/movies/".concat(t.id),state:{from:n},children:t.title})})},f=function(e){var t=e.items.map((function(e){return(0,h.jsx)(d,{item:e},e.id)}));return(0,h.jsx)("ul",{children:t})},v=n(713),g=function(){var e=(0,o.useState)([]),t=(0,r.Z)(e,2),n=t[0],c=t[1],i=(0,o.useState)(!1),l=(0,r.Z)(i,2),m=l[0],d=l[1],g=(0,o.useState)(null),x=(0,r.Z)(g,2),S=x[0],b=x[1],j=(0,s.lr)(),Z=(0,r.Z)(j,2),k=Z[0],w=Z[1],_=k.get("search");(0,o.useEffect)((function(){var e=function(){var e=(0,a.Z)(u().mark((function e(){var t,n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,d(!0),e.next=4,(0,v.Up)(_);case 4:t=e.sent,n=t.data,c(null!==n&&void 0!==n&&n.results?n.results:[]),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),b(e.t0.message);case 12:return e.prev=12,d(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])})));return function(){return e.apply(this,arguments)}}();_&&e()}),[_]);var y=Boolean(n.length);return(0,h.jsxs)("div",{children:[(0,h.jsx)(p,{onSubmit:function(e){var t=e.search;w({search:t}),c([])}}),m&&(0,h.jsx)("p",{children:"Loading..."}),S&&(0,h.jsx)("p",{children:S}),y&&(0,h.jsx)(f,{items:n})]})},x=function(){return(0,h.jsxs)("div",{children:[(0,h.jsx)("p",{children:"Search"}),(0,h.jsx)(g,{})]})}}}]);
//# sourceMappingURL=231.e61c91c4.chunk.js.map